<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- import CSS -->
    <link rel="stylesheet" href="static/lib/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="static/lib/element/css/index.css">
    <link href="static/css/app.css" rel="stylesheet">
</head>
<body>
<div id="app" v-loading.fullscreen.lock="fullscreenLoading" v-cloak>
    <el-container>
        <el-aside width="200px" class="unselectable">
            <div class="aside-controller">
                <el-button-group>
                    <el-tooltip content="Add Group" placement="top">
                        <el-button type="primary" icon="el-icon-plus"></el-button>
                    </el-tooltip>
                    <el-tooltip content="Clear DNS Cache" placement="top">
                        <el-button type="primary" icon="el-icon-refresh"></el-button>
                    </el-tooltip>
                    <el-tooltip content="Setting" placement="top">
                        <el-button type="primary" icon="el-icon-setting"></el-button>
                    </el-tooltip>
                </el-button-group>
            </div>
            <ul class="list">
                <li :class="item.active ? 'current' : '' " v-for="item in hostGroups" @click="changeGroup(item.name)">
                    <i class="fa fa-lg"
                       :class="item.name != 'System Hosts' ? 'el-icon-fa-list-ul' : 'el-icon-fa-desktop'"></i>
                    {{ item.name }}
                    <span class="checkbox" v-if="item.name != 'System Hosts'">
                        <el-checkbox v-model="item.enabled" @change="groupSwitch"></el-checkbox>
                    </span>
                    <span class="checkbox" v-else>
                        <el-checkbox checked disabled></el-checkbox>
                    </span>
                </li>
            </ul>
        </el-aside>
        <el-container>
            <el-header>
                <h4>{{ system.currentGroupName }}</h4>
            </el-header>
            <el-main>
                <el-table
                        :data="system.currentHosts"
                        v-loading="hostsLoading"
                        stripe
                        border
                        empty-text="No results"
                        height="100%"
                        style="width: 100%; ">
                    <el-table-column
                            label="Enable"
                            width="80"
                            align="center"
                    >
                        <template slot-scope="scope">
                            <el-switch
                                    v-model="scope.row.enabled"
                                    :disabled="system.isSystemHosts"
                                    active-color="#13ce66"
                                    @change="changeHost($event, scope.$index)"
                                    inactive-color="#ff4949">
                            </el-switch>
                        </template>
                    </el-table-column>
                    <el-table-column
                            label="IP"
                            resizable="true"
                            width="240">
                        <template slot-scope="scope">
                            <el-popover
                                    placement="top"
                                    width="200"
                                    trigger="click">
                                <el-input :disabled="system.isSystemHosts" v-model="scope.row.ip"
                                          placeholder="请输入内容"></el-input>
                                <span class="edit-column" slot="reference">{{ scope.row.ip }}</span>
                            </el-popover>
                        </template>
                    </el-table-column>
                    <el-table-column
                            resizable="true"
                            label="Domain"
                    >
                        <template slot-scope="scope">
                            <el-popover
                                    placement="top"
                                    width="200"
                                    trigger="click">
                                <el-input :disabled="system.isSystemHosts" v-model="scope.row.domain"
                                          placeholder="请输入内容"></el-input>
                                <span class="edit-column" slot="reference">{{ scope.row.domain }}</span>
                            </el-popover>
                        </template>
                    </el-table-column>
                    <el-table-column
                            resizable="true"
                            label="-"
                            width="50"
                            align="center"
                    >
                        <template slot-scope="scope">
                            <i class="el-icon-delete"></i>
                        </template>
                    </el-table-column>
                </el-table>

            </el-main>
            <el-footer>
                <div class="add-panel">
                    <el-autocomplete
                            ref="ipInput"
                            class="inline-input"
                            v-model="inputIp"
                            :fetch-suggestions="querySearch"
                            prefix-icon="el-icon-location-outline"
                            @select="handleSelect"
                            placeholder="IP"
                            clearable
                    ></el-autocomplete>
                    <el-input
                            placeholder="Domain"
                            v-model="inputHost"
                            prefix-icon="el-icon-fa-desktop"
                            @keyup.enter.native="addHost"
                            clearable>
                    </el-input>
                    <el-button icon="el-icon-plus" @click="addHost" :disabled="system.isSystemHosts"
                               :loading="addHostLoading">Add
                    </el-button>
                    <el-button icon="el-icon-search">Search</el-button>
                </div>
            </el-footer>
        </el-container>
    </el-container>
</div>
</body>
<!-- import Vue before Element -->
<script src="static/js/vue-2.5.17.min.js"></script>
<!-- import JavaScript -->
<script src="static/lib/element/js/index.js"></script>
<script src="static/js/base.js"></script>
</html>